<template>
    <div class="blog--info">
        <p class="blii-item" v-if="author">
            <svg t="1666246673741" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5070" width="16" height="16"><path d="M511.47776 959.86688c-247.40864 0-448.6656-201.25184-448.6656-448.6656 0-247.36256 201.25696-448.6656 448.6656-448.6656 247.41376 0 448.61952 201.30304 448.61952 448.6656 0 247.41376-201.20576 448.6656-448.6144 448.6656z m0-851.072c-221.92128 0-402.40128 180.5312-402.40128 402.4064s180.48 402.4064 402.40128 402.4064c221.8752 0 402.36032-180.5312 402.36032-402.4064s-180.48512-402.4064-402.36032-402.4064z m0 484.64384c-99.64544 0-180.73088-81.08032-180.73088-180.73088s81.08544-180.736 180.736-180.736c99.64544 0 180.72576 81.08544 180.72576 180.736 0 99.65056-81.08032 180.73088-180.73088 180.73088z m0-315.19744c-74.15808 0-134.46656 60.30848-134.46656 134.46656s60.3136 134.47168 134.46656 134.47168c74.1632 0 134.47168-60.3136 134.47168-134.47168s-60.3136-134.46656-134.47168-134.46656z m225.29024 487.64928a23.168 23.168 0 0 1-22.03136-16.15872c-28.29824-88.76032-109.9776-148.41856-203.25888-148.41856-87.7056 0-167.7312 54.99392-199.18848 136.832a23.02976 23.02976 0 0 1-29.85472 13.29152 23.0912 23.0912 0 0 1-13.30176-29.8496c38.23616-99.59936 135.6288-166.53312 242.35008-166.53312 113.44384 0 212.89472 72.6528 247.31648 180.6336a23.12704 23.12704 0 0 1-15.0016 29.10208 24.8064 24.8064 0 0 1-7.02976 1.09568z" p-id="5071" fill="#666666"></path></svg>
            <span class="blii-item-text">{{author}}</span>
        </p>
        <p class="blii-item" v-if="data.frontmatter.date">
            <svg t="1666246719593" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6150" width="16" height="16"><path d="M512 64c-256 0-460.8 208-460.8 460.8s208 460.8 460.8 460.8 460.8-208 460.8-460.8S768 64 512 64zM512 940.8c-227.2 0-412.8-185.6-412.8-412.8s185.6-412.8 412.8-412.8 412.8 185.6 412.8 412.8S742.4 940.8 512 940.8z" p-id="6151" fill="#666666"></path><path d="M809.6 544l-278.4 0 0-281.6c0-12.8-9.6-22.4-22.4-22.4-12.8 0-22.4 9.6-22.4 22.4l0 307.2c0 12.8 9.6 22.4 22.4 22.4 0 0 3.2 0 3.2 0l297.6 0c12.8 0 22.4-9.6 22.4-22.4C832 553.6 822.4 544 809.6 544z" p-id="6152" fill="#666666"></path></svg>
            <span class="blii-item-text">{{data.frontmatter.date.substring(0,10)}}</span>
        </p>
        <p class="blii-item" v-if="data.frontmatter.categories">
            <svg t="1666246795567" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8876" width="16" height="16"><path d="M1003.153333 404.96a52.933333 52.933333 0 0 0-42.38-20.96H896V266.666667a53.393333 53.393333 0 0 0-53.333333-53.333334H461.253333a10.573333 10.573333 0 0 1-7.54-3.126666L344.46 100.953333A52.986667 52.986667 0 0 0 306.746667 85.333333H53.333333a53.393333 53.393333 0 0 0-53.333333 53.333334v704a53.393333 53.393333 0 0 0 53.333333 53.333333h796.893334a53.453333 53.453333 0 0 0 51.453333-39.333333l110.546667-405.333334a52.953333 52.953333 0 0 0-9.073334-46.373333zM53.333333 128h253.413334a10.573333 10.573333 0 0 1 7.54 3.126667l109.253333 109.253333A52.986667 52.986667 0 0 0 461.253333 256H842.666667a10.666667 10.666667 0 0 1 10.666666 10.666667v117.333333H173.773333a53.453333 53.453333 0 0 0-51.453333 39.333333L42.666667 715.366667V138.666667a10.666667 10.666667 0 0 1 10.666666-10.666667z m917.726667 312.14l-110.546667 405.333333a10.666667 10.666667 0 0 1-10.286666 7.86H63.226667a10.666667 10.666667 0 0 1-10.286667-13.473333l110.546667-405.333333A10.666667 10.666667 0 0 1 173.773333 426.666667h787a10.666667 10.666667 0 0 1 10.286667 13.473333z" fill="#666666" p-id="8877"></path></svg>
            <a class="blii-item-link" @click="goCategory(data.frontmatter.categories)"><span class="blii-item-text">{{data.frontmatter.categories}}</span></a>
        </p>
        <p class="blii-item" v-if="data.frontmatter.tags">
            <svg t="1666246857234" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11480" width="16" height="16"><path d="M593.972455 959.951265c-25.744337 0-49.957809-10.031471-68.15117-28.243251L92.731496 498.618225c-19.908422-19.908422-30.103622-47.440475-27.962865-75.5333l19.202341-249.444189c3.672646-47.721885 40.971134-85.019349 88.691995-88.691995l249.424746-19.178805c28.519544-2.125407 55.626925 7.997138 75.547627 27.939329L930.731268 526.803147c37.578874 37.598316 37.559431 98.737792 0 136.297222L662.123624 931.712107C643.931287 949.919794 619.713722 959.951265 593.972455 959.951265L593.972455 959.951265zM429.509752 103.662965c-1.493004 0-2.986007 0.058328-4.474918 0.169869l-249.429863 19.178805c-28.818349 2.217505-51.355645 24.758893-53.572126 53.576219l-19.203364 249.424746c-1.285273 16.945951 4.866844 33.592073 16.887622 45.614897l433.095929 433.093882c21.994943 21.995967 60.317761 21.995967 82.317821 0l268.607644-268.611737c22.686698-22.681582 22.686698-59.612703 0-82.313727l-433.094906-433.093882C459.647143 109.702518 445.035354 103.662965 429.509752 103.662965L429.509752 103.662965zM301.203528 378.460588c-20.448728 0-39.612183-7.92039-53.981449-22.295795-14.371312-14.370289-22.295795-33.533744-22.295795-53.982472 0-20.425192 7.924483-39.609113 22.295795-53.978379 14.369266-14.375405 33.533744-22.296819 53.981449-22.296819 20.430308 0 39.61423 7.92039 53.983495 22.296819 14.370289 14.369266 22.294772 33.54807 22.294772 53.978379 0 20.448728-7.92346 39.612183-22.294772 53.982472C340.817758 370.540198 321.63486 378.460588 301.203528 378.460588L301.203528 378.460588zM301.203528 264.086677c-10.253528 0-19.829628 3.928472-26.990724 11.107989-7.15598 7.176446-11.109012 16.757662-11.109012 26.992771 0 10.248412 3.934612 19.830651 11.109012 26.991748 14.317077 14.331403 39.632649 14.331403 53.984518 0 7.1744-7.161097 11.107989-16.743336 11.107989-26.991748 0-10.235109-3.946892-19.816325-11.107989-26.992771C321.020876 268.033569 311.43966 264.086677 301.203528 264.086677L301.203528 264.086677zM301.203528 264.086677" p-id="11481" fill="#666666"></path></svg>
            <a class="blii-item-link" @click="goTags(data.frontmatter.tags)"><span class="blii-item-text">{{data.frontmatter.tags}}</span></a>
        </p>
    </div>
</template>

<script setup lang="ts">
    import { computed,h, nextTick, onBeforeUnmount, toRefs } from 'vue'
    import {useRouter} from 'vue-router'
    import {useStore} from 'vuex'
    import {
      ClientOnly,
      usePageFrontmatter,
      useSiteLocaleData,
      withBase,
    } from '@vuepress/client'

    import {
      useSidebarItems,
      useThemeLocaleData,
    } from '../composables/index.js'

    const props = defineProps({
      data: {
        type: Object,
        required: true,
      }
    })

    const { data } = toRefs(props)
    
    const router = useRouter()
    const stroe = useStore()

    const themeData = useThemeLocaleData()
    const pagesData = usePageFrontmatter()
    const author = computed(()=>{
        return pagesData.value.author || themeData.value.author
    })

    const goCategory = (category)=>{
        stroe.commit('updateCategory',category)
        router.push({path: '/category.html'})
    }
    const goTags = (tags)=>{
        stroe.commit('updateTags',tags)
        router.push({path: '/tags.html'})
    }
</script>

<style>
    .blog--info{
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        font-size: 14px;
        margin-top: 15px;
    }
    .blii-item{
        margin: 0;
        margin-right: 10px;
        color: var(--c-text-quote);
    }
    .blii-item .icon{
        position: relative;
        top: 2px;
        margin-right: 4px;
    }
    .blii-item-link{
        color: var(--c-text-quote);
        cursor: pointer;
        text-decoration: none;
        font-weight: 400!important;
    }
    .blii-item-link:hover{
        color: var(--c-brand);
        text-decoration: none;
    }
</style>